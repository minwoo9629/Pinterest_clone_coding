{% extends 'base.html' %}
{% block content %}
<div>
    <div style="text-align:center; max-width: 500px; margin: 4rem auto">
        {% if target_user.profile %}
        <img src="{{target_user.profile.image.url}}" alt=""
            style="height: 12rem; width: 12rem; border-radius: 20rem; margin-bottom: 2rem; object-fit: cover;">
        <h2 style="margin-left: 2.5rem;">{{target_user.profile.nickname}}
            {% if target_user == user %}
            <a class="material-icons" style="box-shadow: 0 0 4px #ccc; border-radius: 10rem; padding: .3rem;"
                href="{% url 'profileapp:update' pk=target_user.profile.pk %}">
                edit
            </a>
            {%endif%}
        </h2>
        <h5>{{target_user.profile.message}}</h5>
        {% else %}
        <span class="material-icons" style="font-size: 12rem;">
            account_circle
        </span>
        {% if target_user == user %}
        <a href="{% url 'profileapp:create'%}">
            <p>프로필 작성하기
                <span class="material-icons" style="box-shadow: 0 0 4px #ccc; border-radius: 10rem; padding: .3rem;">
                    create
                </span>
            </p>
        </a>
        {% else %}
        <h2>프로필 미설정</h2>
        {% endif %}
        {% endif %}

        {% if target_user == user %}
        <a class="material-icons" style="box-shadow: 0 0 4px #ccc; border-radius: 10rem; padding: .3rem;"
            href="{% url 'accountapp:update'%}">
            settings
        </a>
        <p class="material-icons delete_modal_btn"
            style="box-shadow: 0 0 4px #fcc; border-radius: 10rem; padding: .3rem;">
            cancel
        </p>
        {% endif %}
    </div>

    <div>
        {% include 'snippets/list_fragment.html' with article_list=object_list %}
    </div>
</div>
{% include 'snippets/delete_modal.html' with target_article=target_article %}
<style>
    .delete_modal_btn {
        cursor: pointer;
    }

    .delete_modal {
        width: 100%;
        height: 100%;
        background-size: cover;
        background-color: rgba(0, 0, 0, 0.5);
        position: absolute;
        top: 0px;
        z-index: 1;
        display: none;
        justify-content: center;
        align-items: center;
    }

    .delete_modal_content {
        width: 30rem;
        height: 19rem;
        background-color: white;
        border: none;
        border-radius: 1.5rem;
        padding: 1rem;
        position: relative;
    }
</style>
<script>
    $(document).ready(function () {
        $('.delete_modal_btn').click(function () {
            $(".delete_modal").css({
                "top": (($(window).height() - $(".delete_modal").outerHeight()) / 2 + $(window).scrollTop()) + "px",
                "left": (($(window).width() - $(".delete_modal").outerWidth()) / 2 + $(window).scrollLeft()) + "px"
            });
            $('.delete_modal').css('display', 'flex');
            $("body").css("overflow", "hidden");


        });
        $('.delete_modal_close').click(function () {
            $('.delete_modal').hide();
            $("body").css("overflow", "auto");
        });
    });
</script>
{% endblock %}